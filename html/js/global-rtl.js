(function(a){m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a.toJSON=function(b,c){var d,e,f,g,h=/["\\\x00-\x1f\x7f-\x9f]/g,i;switch(typeof b){case"string":return h.test(b)?'"'+b.replace(h,function(a){var b=m[a];return b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+b+'"';case"number":return isFinite(b)?String(b):"null";case"boolean":case"null":return String(b);case"object":if(!b)return"null";if(typeof b.toJSON=="function")return a.toJSON(b.toJSON());d=[];if(typeof b.length=="number"&&!b.propertyIsEnumerable("length")){g=b.length;for(e=0;e<g;e+=1)d.push(a.toJSON(b[e],c)||"null");return"["+d.join(",")+"]"}if(c){g=c.length;for(e=0;e<g;e+=1)f=c[e],typeof f=="string"&&(i=a.toJSON(b[f],c),i&&d.push(a.toJSON(f)+":"+i))}else for(f in b)typeof f=="string"&&(i=a.toJSON(b[f],c),i&&d.push(a.toJSON(f)+":"+i));return"{"+d.join(",")+"}"}}})(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode)return;for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})}(jQuery),function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e)return;var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e)return;var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return!c||!c.ownerDocument?null:b?a.isFunction(b)?this.each(function(c){a(this).offset(b.call(this,c,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,b)}):h.call(this)}),a.curCSS||(a.curCSS=a.css),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()}(jQuery),function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";h.label===null&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){if(h.disabled)return;a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(h.disabled)return;a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){if(f)return;b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){if(h.disabled)return;f=!1,d=a.pageX,e=a.pageY}).bind("mouseup.button",function(a){if(h.disabled)return;if(d!==a.pageX||e!==a.pageY)f=!0})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled)return!1;a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(h.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled"){c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1);return}this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}})}(jQuery),function(a,b){var c="ui-tip ui-widget ui-widget-content ui-corner-all ";a.widget("ui.tip",{options:{autoOpen:!1,ativeObj:null,buttons:{},closeOnEscape:!0,fireEnter:!1,tipClass:"",hide:null,height:"auto",content:!1,maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,edgeOffset:5,arrow:"arrow",arrowBg:"arrow_bg",autoPosition:"true",defaultPosition:"top",position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){var b=this,d=b.options,e=(b.uiTip=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.tipClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault()),d.fireEnter&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ENTER&&a("button",e).get(0).focus()}).attr({role:"tip",id:d.id||null}),f=(b.arrow=a("<div class="+d.arrow+">"+"<div class="+d.arrowBg+"></div>"+"</div>")).appendTo(e),g=b.element.show().addClass("ui-tip-content ui-widget-content").appendTo(e);b.parent=d.id?a("#"+d.id):a(document),b._createButtons(d.buttons),b._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.uiTip.hide(),a.element.unbind(".tip").removeData("tip").removeClass("ui-tip-content ui-widget-content").hide().appendTo("body"),a.uiTip.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiTip},close:function(b){var c=this,d,e;if(!1===c._trigger("beforeClose",b))return;return c.uiTip.unbind("keypress.ui-tip"),c._isOpen=!1,c.options.hide?c.uiTip.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiTip.hide(),c._trigger("close",b)),c.options.modal&&(d=0,a(".ui-tip").each(function(){this!==c.uiTip[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.tip.maxZ=d),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.tip.maxZ&&(a.ui.tip.maxZ=e.zIndex),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.tip.maxZ+=1,d.uiTip.css("z-index",a.ui.tip.maxZ),d.element.attr(f),d._trigger("focus",c),d)},open:function(){if(this._isOpen)return;var a=this,b=a.options,c=a.uiTip;return c.show(b.show),b.autoPosition&&b.ativeObj?a._autoPosition(b.ativeObj):a._position(b.position),a.moveToTop(!0),c.eq(0).focus(),a._isOpen=!0,a._trigger("open"),a},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-tip-buttonpane ui-widget-content ui-helper-clearfix"),f=a("<div></div>").addClass("ui-tip-buttonset").appendTo(e);c.uiTip.find(".ui-tip-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a("<span></span>").click(function(){d.click.apply(c.element[0],arguments)}).appendTo(f);a.each(d,function(a,b){if(a==="click")return;a in e?e[a](b):e.attr(a,b)}),a.fn.button&&e.button()}),e.appendTo(c.uiTip))},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.tip.prototype.options.position,b)}else b=a.ui.tip.prototype.options.position;e=this.uiTip.is(":visible"),e||this.uiTip.show(),this.uiTip.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiTip.hide()},_autoPosition:function(b){var c=this.uiTip,d=this.arrow,e=this.options,f=e.defaultPosition,g=parseInt(b.offset().top),h=parseInt(b.offset().left),i=parseInt(b.outerWidth()),j=parseInt(b.outerHeight()),k=c.outerWidth(),l=c.outerHeight(),m={bottom:{my:"left top",at:"left bottom",of:b,arrow:{my:"center bottom",at:"center top",of:c}},top:{my:"center bottom",at:"center top",of:b,collision:"fit",offset:"0 -"+j,arrow:{my:"center bottom",at:"center top",offset:"0 "+j/2,of:b}},left:{my:"right center",at:"left center",of:b,arrow:{my:"left  center",at:"right center",of:c}},right:{my:"left top",at:"right top",of:b,arrow:{my:"right  bottom",at:"left top",of:c}}};c.position(m[f]),a(".arrow",this.parent).position(m[f].arrow),isVisible=this.uiTip.is(":visible"),isVisible||this.uiTip.show(),isVisible||this.uiTip.hide()},_setOption:function(b,d){var e=this,f=e.uiTip;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiTipTitlebarCloseText.text(""+d);break;case"tipClass":f.removeClass(e.options.tipClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-tip-disabled"):f.removeClass("ui-tip-disabled");break;case"position":e._position(d);break;case"title":a(".ui-tip-title",e.uiTipTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)}})}(jQuery),function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(b.options.disabled||b.element.propAttr("readOnly"))return;d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._keyEvent("previous",c);break;case e.DOWN:b._keyEvent("next",c);break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled)return;b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled)return;clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,c,d;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,d){d(a.ui.autocomplete.filter(c,b.term))}):typeof this.options.source=="string"?(d=this.options.source,this.source=function(c,e){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:d,data:c,dataType:"json",success:function(a,b){e(a)},error:function(){e([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)===!1)return;return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length)return;c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active)return;this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:first")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),function(a){function d(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(b){return d.test(a("<div>").html(b.label||b.value||b).text())})}var b=a.ui.autocomplete.prototype,c=b._initSource;a.extend(b,{_initSource:function(){this.options.html&&a.isArray(this.options.source)?this.source=function(a,b){b(d(this.options.source,a.term))}:c.call(this)},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>")[this.options.html?"html":"text"](c.label)).appendTo(b)}})}(jQuery),function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),replaceTpl=function(a,b,c){var d=String(a),e=c||/#\{([^}]*)\}/mg,f=String.trim||function(a){return a.replace(/^\s+|\s+$/g,"")};return d.replace(e,function(a,c){return a=b[f(c)]})},getQuery=function(a){a=a?a:window.location.search;if(a.indexOf("?")<0)return{};var b=a.substring(a.indexOf("?")+1,a.length).split("&"),c={};for(i=0;j=b[i];i++)c[j.substring(0,j.indexOf("=")).toLowerCase()]=j.substring(j.indexOf("=")+1,j.length);return c},$.fn.extend({setHome:function(a){var b=this[0],a=a||window.location.href;try{b.style.behavior="url(#default#homepage)",b.setHomePage(a)}catch(c){window.open("/about#how","_blank")}return this},addFav:function(a,b,c){b||(this.length===0?b=window.location.href:(b=this.attr("href")||this.parent().attr("href"),/^\//.test(b)&&(b=window.location.protocol+"//"+window.location.host+b))),c=c||document.title,a=a||"An error has occurred, please use keyboard shortcuts: Ctrl+D to bookmark this page.";try{window.external.AddFavorite(b,c)}catch(d){try{el.setAttribute("rel","sidebar"),obj.title=c,obj.href=b}catch(d){alert(a)}}return this}}),window.Gl||(window.Gl={}),Gl.clock=function(a){if(!(this instanceof Gl.clock))return new Gl.clock(a);var b=this;b.conf=conf.clock,b.el=$("#"+a),b.imgUrl=b.conf.imgUrl||"/static/web/common/img/gut.gif",b.url=b.conf.url||"",b.title=b.conf.title||"",b.tpl=b.conf.tpl||"#{y}<span>/</span>#{m}<span>/</span>#{d}",b.islDateFix=b.conf.islDateFix||0,b.rate=b.conf.rate||500,b.ssCache=0,!b.url||(b.tpl='<a href="'+b.url+'" title="'+b.title+'">'+b.tpl+"</a>"),b.el.html(b.format(new Date)),b.get()},Gl.clock.prototype={constructor:Gl.clock,get:function(){var a=this,b=$.ajax({url:a.imgUrl,cache:!1,error:function(){a.show(b)},success:function(b,c,d){a.show(d)}})},show:function(a){a=(a=a.getResponseHeader("Date"))?new Date(a):new Date;var b=this,c=Gl.date.formatLunar,d=Gl.date.getDate,e=0,f,g=function(){var a=new Date-b.startTime,c=++e*b.rate;return Math.abs(a-c)>6e4?c:a};b.startTime=new Date,b.timer=setInterval(function(){(f=new Date(a.getTime())).setMilliseconds(f.getMilliseconds()+g()),Gl.serverNow=f;var c=b.format(f);c&&b.el.html(c)},b.rate)},format:function(a){var b=this,c,d,e,f,g=new Date,h={},i;return c=Gl.date.getDate(a),g.setTime(a),g.setDate(a.getDate()+~~b.conf.islDateFix),d=Gl.date.getDate(g),e=Gl.date.formatLunar(c.y,c.m,c.d),f=Gl.date.formatIsl(d.y,d.m,d.d),$.extend(h,f,e),h.hh=a.getHours()<10?"0"+a.getHours():a.getHours(),h.mm=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),h.ss=a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds(),h.ss===this.ssCache?"":(this.ssCache=h.ss,this.tpl.replaceTpl(h))}},Gl.searchGroup=function(a){var b=conf.searchGroup,c=a.type||"index",d=b.conf[c].logoPath,e=$("#"+(a.logoId||"searchGroupLogo")),f=$("#"+(a.logoGroupId||"searchGroupLogos")),g=$("#"+(a.tabsId||"searchGroupTabs")),h=$("#"+(a.formId||"searchGroupForm")),i=$("#"+(a.inputId||"searchGroupInput")),j=$("#"+(a.labelId||"searchGroupLabel")),k=$("#"+(a.btnId||"searchGroupBtn")),l=$("#"+(a.moreTabId||"searchGroupMoreTab")),m=$("#"+(a.paramsId||"searchGroupParams")),n=$("#hotSearchWords"),o=$("#searchGroupWebEngine"),p=k.parent(),q=i.parent(),r=b.conf[c].curN||0,s=$("a:eq("+r+")",g),t=$("a",g),u=b.list[s.attr("data-t")].engine[r].sug,v={},w=function(a,d){var g=[];h.attr("action",a[d].action),i.attr("name",a[d].q),e.attr("src",b.conf[c].logoPath+a[d].logo+".png"),e.attr("alt",a[d].name),e.parent().attr("title",a[d].name),e.parent().attr("data-n",d),$("dd",f).remove(),f.append(function(){return g=[],$.each(a,function(a,d){g.push('<dd class="box-search_logo_hide"><a href="#" onclick="return false" title="'+d.name+'" hidefocus="true" data-n="'+a+'"><img id="searchGroupLogo_'+a+'" src="'+b.conf[c].logoPath+d.logo+'.png" alt="'+d.name+'" /></a></dd>')}),g.join("")}),m.html(function(){return g=[],$.each(a[d].params,function(a,b){g.push('<input type="hidden" name="'+a+'" value="'+b+'">')}),g.join("")}),a.length<=1?f.addClass("box-search_logo_disabled"):f.removeClass("box-search_logo_disabled"),f.children().on("mouseenter",function(){$(this).addClass("box-search_logo_hover")}),f.children().on("mouseleave",function(){$(this).removeClass("box-search_logo_hover")})},x=function(a,b){a=a[b].sug,$.each(a,function(a,b){D.o[a]=b}),!a.templ&&(D.o.templ=!1),!a.callbackFn&&(D.o.callbackFn=!1),!a.callbackDataKey&&(D.o.callbackDataKey=!1),!a.callbackName&&(D.o.callbackName=!1),!a.callbackDataNum&&(D.o.callbackDataNum=!1),!a.customUrl&&(D.o.customUrl=!1),!a.customUrl&&(D.o.customUrl=!1),!a.charset&&(D.o.charset=undefined),D.reset(!0)},y=function(a){a=$(a),s.removeClass("cur"),a.addClass("cur"),s=a;var c=a.attr("data-t"),d=b.list;v[c]||(v[c]=0),w(d[c].engine,v[c]),x(d[c].engine,v[c])},z=function(){var a=$("dd",l),c=b.more,d=[];$("dd",l).length===0&&($.each(c,function(){d.push('<dd><a href="'+this.url+'">'+this.name+"</a></dd>")}),l.append(d.join("")),l.children().on("mouseenter",function(){$(this).addClass("box-search_more_hover")}),l.children().on("mouseleave",function(){$(this).removeClass("box-search_more_hover")})),l.hasClass("box-search_more_show")?(l.removeClass("box-search_more_show"),a.each(function(){$(this).addClass("box-search_more_hide")})):(l.addClass("box-search_more_show"),a.each(function(){$(this).removeClass("box-search_more_hide")}))},A=function(){var a=e.parent().attr("data-n"),b=$("dd",f);f.hasClass("box-search_logos_show")?(f.removeClass("box-search_logos_show"),b.each(function(){$(this).addClass("box-search_logo_hide")})):(f.addClass("box-search_logos_show"),b.each(function(b){b!=a&&$(this).removeClass("box-search_logo_hide")}))},B=function(a){typeof a.onselectstart!="undefined"?a.onselectstart=function(){return!1}:typeof a.style.MozUserSelect!="undefined"?a.style.MozUserSelect="none":a.onmousedown=function(){return!1}},C=function(a,b){if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},D=Gl.suggest(i[0],{classNameWrap:"sug-search",classNameQuery:"sug-query",classNameSelect:"sug-select",delay:b.conf[c].delay,n:b.conf[c].n,autoFocus:!1,requestQuery:u.requestQuery,requestParas:u.requestParas,url:u.url,callbackFn:u.callbackFn,callbackDataKey:u.callbackDataKey,onMouseSelect:function(){i.select();var a=s.attr("data-t");b.conf.sort?UT.send({type:"click",position:"search",engine:b.list[a].engine[v[a]].logo.toLowerCase(),value:encodeURIComponent(i.val()),sort:b.conf.sort}):UT.send({type:"click",position:"search",engine:b.list[a].engine[v[a]].logo.toLowerCase(),value:encodeURIComponent(i.val())})},templ:u.templ});i.val(""),v[s.attr("data-t")]=0,i.focus(),h.on("submit",function(){var a=s.attr("data-t"),c=b.list[a].engine[v[a]].action,d=b.list[a].engine[v[a]].url,f=!1;a=="shopping"&&/ruten.png/.test(e.attr("src"))?h[0].acceptCharset=document.charset="big5":h[0].acceptCharset=document.charset="utf-8",b.conf.sort?UT.send({type:"click",position:"search",engine:b.list[a].engine[v[a]].logo.toLowerCase(),value:encodeURIComponent(i.val()),sort:b.conf.sort}):UT.send({type:"click",position:"search",engine:b.list[a].engine[v[a]].logo.toLowerCase(),value:encodeURIComponent(i.val())}),f?setTimeout(function(){i.val(""),i.removeAttr("style")},16):i.select(),/#\{([^}]*)\}/mg.test(c)&&(h.attr("action",replaceTpl(c,{q:encodeURIComponent(i.val())})),i.attr("disabled",!0),setTimeout(function(){i.attr("disabled",!1),i.select()},16));if(/hao123.png/.test(e.attr("src"))&&i.val()==="")return!1}),B(g[0]),k.on("mousedown",function(){p.addClass("btn-search_click")}),k.on("mouseup",function(){p.removeClass("btn-search_click")}),k.on("mouseout",function(){p.removeClass("btn-search_click")}),k.on("mouseenter",function(){p.addClass("btn-search_hover")}),k.on("mouseleave",function(){p.removeClass("btn-search_hover")}),i.on("focus",function(){q.addClass("box-search_focus"),j.hide()}),i.on("blur",function(){q.removeClass("box-search_focus")}),f.children().on("mouseenter",function(){$(this).addClass("box-search_logo_hover")}),f.children().on("mouseleave",function(){$(this).removeClass("box-search_logo_hover")}),l.children().on("mouseenter",function(){$(this).addClass("box-search_more_hover")}),l.children().on("mouseleave",function(){$(this).removeClass("box-search_more_hover")}),g.on("mousedown",function(a){var b=a.target;b.tagName==="SPAN"&&(b=b.parentNode),b.getAttribute("data-t")&&y(b),h.acceptCharset=document.charset="utf-8",setTimeout(function(){i.focus()},5)}),l.on("mousedown",function(a){var b=a.target;b.parentNode.tagName==="DD"?setTimeout(z,200):z()}),$(document).on("mousedown",function(a){var b=a.target;f.hasClass("box-search_logos_show")&&b!==f[0]&&!jQuery.contains(f[0],b)&&A(),l.hasClass("box-search_more_show")&&b!==l[0]&&!jQuery.contains(l[0],b)&&z()}),f.on("click",function(a){var c=a.target,d=s.attr("data-t"),e=v[d],f;c.tagName==="IMG"?f=~~$(c).parent().attr("data-n"):c.tagName==="A"?f=~~$(c).attr("data-n"):f=~~$(c).children().attr("data-n"),s.attr("data-t")=="web"&&o.attr("data-num",f),h[0].acceptCharset=document.charset="utf-8",f!==e&&(v[d]=f,w(b.list[d].engine,f),x(b.list[d].engine,f)),A()}),n.on("click",function(a){var c=a.target,d=$(c).attr("href"),e=o.attr("data-num"),f=b.list.web.engine[e],g=f.action,h=f.q,i=jQuery.param(f.params),j=i?"&"+i:"",k="";c.nodeName.toLowerCase()==="a"&&d==="#"&&(k=g+(g.charAt(g.length-1)=="?"?"":"?")+h+"="+encodeURIComponent($(c).text())+j,window.open(k))})},Gl.weather={init:function(){var a=this,b=a.cityId=$.cookie("weatherCity")||conf.weather.defaultCity,c=/MSIE 6.0/.test(navigator.userAgent);conf.weather.bigIconPath=c?conf.weather.bigIconPath+"_png8/":conf.weather.bigIconPath+"/",conf.weather.smallIconPath=c?conf.weather.smallIconPath+"_png8/":conf.weather.smallIconPath+"/",$.ajax({url:"/static/web/"+conf.weather.country+"/js/weather_city.js?20130117",dataType:"script",cache:!0,success:function(){a.bindEvent(a),a.requestData()}})},requestData:function(){var a=Gl.weather,b=a.cityId,c=$("#weatherView"),d=conf.weather.prefixUrl+b+".js?"+new Date;conf.weatherData||(conf.weatherData={}),c.html(""),$.getScript(d,function(){a.render(conf.weatherData[b])},function(){$("#selectWeatherCity").html(conf.weatherCity[b]),c.html('<span onClick="Gl.weather.requestData()" style="text-decoration:underline; cursor:pointer;">'+conf.weather.tips.loadError+"</span>")})},bindEvent:function(a){var b=$("#weatherMoreWrap"),c=$("#weatherMoreBtn");$("#selectWeatherCity").on("click",function(){a.cityLayerChanger(),!a.selectCityLoaded&&$.ajax({url:"/static/web/"+conf.weather.country+"/js/weather_city_select.js?20130117",dataType:"script",cache:!0,success:function(){a.selectCityLoaded=!0}})}),c.on("click",function(){$(this).hasClass("weather-days_click")?b.slideUp(400,function(){c.removeClass("weather-days_click"),b.removeClass("weather-more_show"),b.show()}):(b.addClass("weather-more_show"),c.addClass("weather-days_click"),b.hide(),b.slideDown(400))}),$(document).on("click",function(a){var d=a.target;d.parentNode===c[0]&&(d=d.parentNode),$(d).parents(".userbar-wrap").length===0&&d!==c[0]&&d!==b[0]&&!jQuery.contains(b[0],d)&&b.slideUp(400,function(){c.removeClass("weather-days_click"),b.removeClass("weather-more_show"),b.show()})})},cityLayerChanger:function(a){var b=$("#selectWeatherCity").parent(),c=$("#weatherCityLayer"),d=c.css("display");d==="none"?(b.addClass("city-click"),c.show()):(b.removeClass("city-click"),c.hide())},fixData:function(a){return a.date=a.date.split("-")[2],a.week=conf.date.lunar.wk[a.week],a.day=conf.date.day[a.day],a},formatData:function(a,b){var c=conf.weather,d=(Gl.serverNow||new Date).getHours(),e=a.date.split("-"),f=new Date;return f.setFullYear(e[0]),f.setDate(e[2]),f.setMonth(Number(e[1])-1),f=f.getDay(),a=6<d&&d<18?a.day||a.night:a.night||a.day,{hi:a.hi!==""?"~"+a.hi:"",low:a.low,iconSmall:c.smallIconPath+a.icon+".png",iconBig:c.bigIconPath+a.icon+".png",title:c.tips.click,day:conf.date.day[b],date:e[0]+"/"+e[1]+"/"+e[2],week:conf.date.lunar.wk[f],className:a.hi!==""?"":"onlyone"}},render:function(a){a=a.slice(0,conf.weather.dataLength);var b=this,c="",d="",e="",f=conf.weather.tpl,g=conf.weather.tplMoreDate,h=conf.weather.tplMoreDay,i=$("#weatherView"),j=$("#weatherMore"),k=(Gl.serverNow||new Date).getDate();$("#selectWeatherCity").html(conf.weatherCity[b.cityId]),$.each(a,function(c,e){var f=~~a[c].date.split("-")[2]-k;f===0?(e=b.formatData(e,0),c===4?e.className+=" l-g0":e.className+=" l-g1-5",e.className+=" weather-more_today",d+=replaceTpl(h,e)):(e=b.formatData(e,c),c===4?e.className+=" l-g0":e.className+=" l-g1-5",d+=replaceTpl(g,e))}),j.html(d),$("li:even",j).addClass("weather-more_odd"),a.splice(0,k-~~a[0].date.split("-")[2]),$.each(a,function(a,d){d=b.formatData(d,a),a===1&&(d.className+=" weather_last");if(a===2)return!1;c+=replaceTpl(f,d)}),i.html(c)}},Gl.userbarBtn=function(a){var b=$("#indexLogo")[0],c=$("#indexLogoImg"),d=$("#secLogoImg"),e=$("#setHome")[0],f=$("#addFav")[0],g=$(".userbar-btn a"),h=conf.userbarBtn,i=a.type,j=document,k=i==="index"?$("#setHome"):$("#addFav"),l=$("i",k)[0].offsetWidth,m=$(f).width(),n=parseInt(conf.userbarBtn.maxSpanWidth)+l+3,o=function(a,b){return a=a.parentNode.tagName===b?a.parentNode:a,a.tagName===b?a:null},p=function(a){if(!a||a.clientWidth-$("i",k)[0].offsetWidth>m)return;a=$(a),k.width(m),conf.userbarBtn.maxSpanWidth?a.width(n):a.width($("span",a)[0].offsetWidth+l+3),k=a},q=function(){k.width("auto"),i!=="index"&&(c.hide(),d.show())};conf.userbarBtn.maxSpanWidth&&k.width(n),g.on("mouseenter",function(a){p(o(this,"A"))}),g.on("mousedown",function(){$(this).addClass("userbar-btn_click")}),g.on("mouseup",function(){$(this).removeClass("userbar-btn_click")}),g.on("mouseout",function(){$(this).removeClass("userbar-btn_click")}),$(j).on("click",function(a){a=a.target,a.parentNode===b&&(a=a.parentNode),a===b&&(i!=="index"||$(a).attr("href")!=="/"&&!$(a).attr("href").match(/^\/\?/)?i==="index"?window.open(a.href):window.location.href=$(a).attr("href")||"/":$(a).setHome()),a===e&&$(a).setHome(),a.parentNode===e&&$(a.parentNode).setHome(),(a===f||a.parentNode===f)&&$(a).addFav(h.addFavText,window.location.href)}),q()},Gl.logoTips=function(){if(!(this instanceof Gl.logoTips))return new Gl.logoTips;var a=this;a.tip=$("#logoTips"),a.tipLink=$("#tipLink"),a.closeBtn=$("#tipClose"),a.conf=conf.logoTips,a.init()},Gl.logoTips.prototype={constructor:Gl.logoTips,init:function(){var a=this;a.conf.show&&(a.bindEvent(),a.conf.alwaysShow?a.show():a.setCookie("oldFriend",a.conf.version,function(){a.show()}))},bindEvent:function(){var a=this;a.tipLink.on("click",function(b){var c=$(this).attr("href");b.preventDefault(),c&&c!=="#"&&window.open($(this).attr("href"),"_blank"),a.tip.hide()}),a.closeBtn.on("mouseenter",function(){$(this).addClass("tip-close_hover")}),a.closeBtn.on("mouseleave",function(){$(this).removeClass("tip-close_hover")}),a.closeBtn.on("click",function(b){b.preventDefault(),a.tip.hide()})},show:function(){var a=this;return a.tip.show(),!0},setCookie:function(a,b,c,d){var e=this;$.cookie(a)!==b&&c(),$.cookie(a,b,{expires:d||2e3})}},Gl.siteSwitch=function(a){var b=$("#siteSwitch"),c=$("#siteSwitchContainer"),d=function(){var c=$("li.site_"+a+" a",".site-switch_container");if(c.length>0){var d=c.clone();d.attr({href:"javascript:void(0)","class":"site_"+a,hidefocus:"true"}),b.prepend(d),c.parent().hide(),b.show()}},e=function(){b.on("click",function(a){var d=a.target;!$(d).hasClass("site-switch_content")&&!$(d).hasClass("site-switch_container")&&(b.hasClass("site-switch_show")?(b.removeClass("site-switch_show"),c.hide()):(b.addClass("site-switch_show"),c.show()))}),b.on("mouseover",function(a){var c=a.target;$(c).attr("id")=="siteSwitchContainer"||$(c).parents("#siteSwitchContainer").length>0?b.removeClass("site-switch_hover"):b.addClass("site-switch_hover")}),b.on("mouseleave",function(){b.removeClass("site-switch_hover")}),$(document).on("click",function(a){var d=a.target;$(d).attr("id")!=="siteSwitch"&&$(d).parents(".site-switch").length===0&&(b.removeClass("site-switch_show"),c.hide())})};d(),e()},function(){var a=$("#searchKeyboard");$("#searchKeyboard").hover(function(){!/tia_down\.png/.test(a.attr("src"))&&a.attr("src","/static/web/common/img/keyboard/tia_hover.png")},function(){!/tia_down\.png/.test(a.attr("src"))&&a.attr("src","/static/web/common/img/keyboard/tia.png")}),a.length>0&&(a[0].onclick=function(){$.ajax({url:"/static/web/common/js/ar_tia.js",dataType:"script",cache:!0,success:function(){var a=$("#searchGroupInput"),b=$("#kbda");a.length>0&&a.focus(),b.length>0&&document.all&&$(document.body).on("mousedown",function(c){var d=c.target;$.contains(b,d)&&a.length>0&&(a[0].onbeforedeactivate=function(){window.event.returnValue=!1,a.onbeforedeactivate=null})})}})})}(),Gl.addFavBar=function(a){if(!conf.addFavBar)return;var b=navigator.userAgent,c=conf.addFavBar,d=$("#addFavBar"),e=function(){a==="index"?!$.cookie("hidebarindex")&&f():!$.cookie("hidebarlv2")&&g(c.lv2Type)},f=function(){if(c.hideIndex)return;/MSIE|Firefox/.test(b)?h("sethome",c.setHome):h("download",c.download)},g=function(a){a==="1"?/MSIE/.test(b)?h("addfav",c.addFav):(h("addfav",c.addFavNoSupport),$("#addfavBtn").hide()):a==="2"&&h("download",c.download)},h=function(a,e){var f='<div class="bar-addfav_inner l-wrap"><i class="bar-addfav_icon icon-'+a+'"></i><span class="bar-addfav_title">'+e.title+'</span><span class="bar-addfav_text">'+e.text+'</span><a href="javascript:void(0)" class="bar-addfav_btn" id="'+a+'Btn" data-sort="topbar" data-val="button" hidefocus="true">'+e.button+'</a><a href="javascript:void(0)" class="bar-addfav_close" id="addFavClose" data-sort="topbar" data-val="close" hidefocus="true"></a></div>';d.append(f),i(a),/MSIE 6.0/.test(b)&&d.show(),d.slideDown(c.slideSpeed)},i=function(a){var d=$("#sethomeBtn"),e=$("#addfavBtn"),f=$("#downloadBtn"),g=$("#addFavClose");d.on("click",function(a){a.preventDefault(),$(this).setHome(),j()}),e.on("click",function(a){a.preventDefault(),$().addFav(conf.userbarBtn.addFavText),j()}),f.on("click",function(a){a.preventDefault(),window.open(c.download.url,"_blank"),j()}),g.on("click",function(a){a.preventDefault(),j()}),a==="addfav"&&$(document).on("keydown",function(a){/Macintosh/.test(b)?a.metaKey&&a.keyCode===68&&j():a.ctrlKey&&a.keyCode===68&&j()})},j=function(){/MSIE 6.0/.test(b)&&d.hide(),d.slideUp(c.slideSpeed),$.cookie("hidebar"+a,1,{expires:2e3})};$(document).ready(function(){e()})},window.Gl||(window.Gl={}),Gl.settings=function(){var a=$("#settingBtn"),b=$("#settingDropdown"),c=$("#siteList"),d=$("li.site_"+conf.country+" a",c),e=0,f={},g=function(){a.on("click",function(a){a.preventDefault(),e?Gl.settings.close():Gl.settings.open()}),$(document).on("click",function(c){var d=c.target;d!==a[0]&&d!==b[0]&&!$.contains(b[0],d)&&Gl.settings.close()}),$("a",c).on("click",function(a){a.preventDefault();if(a.target!==d[0]){var b=$(this).attr("data-la");b!==""&&$.cookie("LA",$(this).attr("data-la"),{expires:2e3,domain:"hao123.com"}),Gl.settings.close(),window.open($(this).attr("href"),$(this).attr("target"))}})};return f.open=function(){a.addClass("settings-btn_open"),b.show(),e=1},f.close=function(){a.removeClass("settings-btn_open"),b.hide(),e=0},f.init=function(){d.addClass("cur"),g()},f}(),Gl.settings.init(),$(function(){jQuery.cookie("supportCookie",!0);var a=!!jQuery.cookie("supportCookie"),b=conf.customSite.defaultIcon,c='<a class="custom_item"  href="url" target="_blank" tabindex="-1"><span class="ico-txt"><img class="site-icon" src="imgUrl" onerror=this.src=\''+b+"';this.onerror=null;>name</span><i class='btn modify sprite-modify_normal'></i><i class='btn del sprite-del_normal'></i></a>",d=$("#custom_list"),e=$("#add-btn"),f=$("#website-address"),g=$("#website-name"),h=$("#customsite-con"),i=conf.customSite.suggestUrl,j=conf.customSite.btnOk,k=conf.customSite.btnCan,l=conf.customSite.tipContent,m="",n=0,o="global_hao123_"+conf.country,p=10,q=-1,r=$("<div>"),s=getQuery(),t=s.tn;r.append($(".hotsite-for_tn")),t&&r.children().each(function(){var a=$(this),b=$(".hotsite > span"),c=a.attr("data-tn").split("|"),d=a.attr("data-pos");d=d>=0&&d<b.length?d:b.length-1;for(var e=0;e<c.length;e++)if(c[e]===t){a.css("display","inline-block"),b.last().hide(),b.eq(d).before(a);break}}),$("#hotsite > span").hover(function(){var a=$(this),b=a.find(".hotsite_link").position(),c=a.children(".more_links"),d=a.children(".search-form"),e=d.find(".search-form-input-text"),f=d.find(".tips");a.addClass("hotsite_hover"),d.length&&(a.css("position","relative"),a.find(".span-hot-name").css("visibility","hidden"),d.show(),e.focus(),f.length&&f.show()),c.length&&(c.css({left:b.left,top:b.top+a.height()}),c.find("img").each(function(){var a=$(this);a.attr("customsrc")?a.attr("src",a.attr("customsrc")):a.attr("src",u(a.parent().attr("href")))}),c.show())},function(){var a=$(this);a.removeClass("hotsite_hover");var b=a.children(".search-form"),c=b.find(".search-form-input-text"),d=b.find(".tips");a.children(".more_links").hide(),b.length&&(c.val(""),b.hide(),a.find(".span-hot-name").css("visibility","visible"),d.length&&d.hide(),$("#searchGroupInput").focus())}),$(".search-form form").submit(function(a){var b=$(this).children(".search-form-input-text"),c=$(this).parent().next(".hotsite_link").attr("href");UT.send({type:"click",position:"quicksearch",value:b.val(),url:c});var d=/\?$/;if(b.val().replace(/\s/g,"").length==0)return window.open(c),!1;d.test($(this).attr("action"))||(window.open($(this).attr("action")+b.val()),a.preventDefault()),$("#searchGroupInput").focus(),setTimeout(function(){$(".search-form").hide(),$(".span-hot-name").css("visibility","visible"),$("#hotsite > span").removeClass("hotsite_hover")},100)}),$(".search-form-input-text").keydown(function(){var a=$(this).next(".tips");a.length&&($(this).val()<0?a.show():a.hide())});var u=function(a){return prohost=a.match(/([^:\/?#]+:\/\/)?([^\/@:]+)/i),prohost=prohost?prohost:[!0,"http://",document.location.hostname],prohost[1]+prohost[2]+"/favicon.ico"};if(a){var v=jQuery.cookie("isOpensitelist");if(v===null||v&1)d.show(),$("#custom_bar").addClass("bar_open");var w=jQuery.cookie("customSite");w=$.parseJSON(w||'{"list":[]}'),$.each(w.list,function(a,b){var d=c.replace("url",b.url).replace("name",b.name).replace("imgUrl",b.imgurl);$(d).insertBefore("#add-btn")}),n=w.list.length,n<10&&e.show(),$(document).mousedown(function(a){var b=$(a.target),c=f.autocomplete("widget"),e=h.is(":visible"),g=h&&!b.closest("#customsite-con").length&&!b.closest("#add-btn").length&&!b.closest(".ui-menu-item",c).length,i=$("#tip").tip("widget"),j=i.is(":visible")&&!b.hasClass("del")&&!b.closest(i).length;g?(h.hide(),f.autocomplete("close")):e||f.autocomplete("close"),j&&($("#tip").tip("close"),$(".del",d).removeClass("sprite-del_ative"))}),$("#custom_bar").click(function(a){var b=this;d.slideToggle("fast",function(){var a=jQuery.cookie("isOpensitelist"),c=a===null?0:jQuery.cookie("isOpensitelist")^1;$(b).toggleClass("bar_open"),d.css("overflow","visible"),jQuery.cookie("isOpensitelist",c,{expires:2e3,path:"/"})})}),window.baidu||(window.baidu={}),window.baidu.sug=function(a){var b=[],c=a.s.length,d=h.is(":visible");if(c>0&&d){var e=new RegExp("^"+custom_suggest_currentVal,"i");$.each(a.s,function(a,c){var d=c.replace(e,"<span class='current-val'>"+custom_suggest_currentVal+"</span>");b.push({label:d,value:c})}),custom_suggest_resp(b)}else f.autocomplete("close")};var x={source:function(a,b){var c=a.term;custom_suggest_resp=b,custom_suggest_currentVal=c,$.ajax({dataType:"jsonp",type:"get",url:i,data:{prod:o,wd:c},jsonp:"callback"})},html:!0,select:function(a,b){a.preventDefault();var c=b.item.value,d=["com","co"];if(!c)return;f.val(c),c=String(c).split("/")[0].split(".");if(c&&c[1]){var e=-1,h="";jQuery.each(d,function(a,b){var d=jQuery.inArray(b,c);if(d>0)return e=d,!1}),e>0?h=c[e-1]:h=c.length>2?c[1]:c[0],g.val(h).get(0).select()}}};f.autocomplete(x),d.delegate(".add-btn","click",function(a){var b=$(a.target);q=-1;if(b.is(".add-btn-txt,.add-btn,.add-btn-ico")){var c=b.closest(".custom_item"),d=c.position();h.css({left:d.left+parseInt(c.css("margin-left")),top:d.top+parseInt(c.css("margin-top"))}).show().get(0).reset(),f.get(0).focus()}}),h.submit(function(a){a.preventDefault(),f.autocomplete("close");var b=$.trim(f.val()),d=$.trim(g.val())||b,h="",i="",j=$.parseJSON(jQuery.cookie("customSite")||'{"list":[]}');if(d&&b){i=b.match(/([^:\/?#]+:\/\/)?([^\/@:]+)/i),i=i?i:[!0,"http://",document.location.hostname],m=b,i[1]||(i[1]="http://",b="http://"+b),h=i[1]+i[2]+"/favicon.ico";var k=c.replace("url",b).replace("name",d).replace("imgUrl",h);if(q==-1)j.list.push({name:d,url:b,imgurl:h}),e.before(k),UT.send({type:"click",position:"custom-site",url:b,element:"search",country:conf.country});else{if(j.list[q].name==d&&j.list[q].url==b){this.reset(),f.removeClass("err-warn"),$(this).hide();return}$(".custom_item:eq("+q+")").replaceWith(k),j.list[q].name=d,j.list[q].url=b,j.list[q].imgurl=h,UT.send({type:"click",position:"custom-site",url:b,element:"modify",country:conf.country})}var l=j.list.length;jQuery.cookie("customSite",jQuery.toJSON(j),{expires:2e3,path:"/"}),n=l,l===p&&e.toggle()}else if(d){f.addClass("err-warn").get(0).focus();return}this.reset(),f.removeClass("err-warn"),$(this).hide()}),$("#del-btn-ok").button().click(function(a){a.preventDefault(),h.trigger("submit")}),$("#del-btn-cancel").button().click(function(a){a.preventDefault(),h.hide(),f.removeClass("err-warn")});var y={closeOnEscape:!1,id:"customTip",buttons:{Ok:{text:j,click:function(){var a=$(this).tip("option"),b=$(".custom_item",d),c=$.inArray(a.delOb.get(0),b.get()),f=0;if(c>-1){a.delOb.remove();var g=jQuery.cookie("customSite");g=$.parseJSON(g||'{"list":[]}'),g.list.splice(c,1),f=g.list.length,jQuery.cookie("customSite",jQuery.toJSON(g),{expires:2e3,path:"/"}),f||jQuery.cookie("customSite",null,{path:"/"}),++f===p&&e.toggle(),a.delOb=null}$(this).tip("close")},addClass:"mod-btn_normal"},Cancel:{text:k,click:function(){var a=$(this).tip("option");$(this).tip("close"),$(".sprite-del_ative",d).removeClass("sprite-del_ative")},addClass:"mod-btn_cancel"}}};$('<div id="tip">'+l+"</div>").tip(y),$(".ui-tip a").button(),d.delegate(".custom_item","click",function(a){var b=$(a.target);b.hasClass("btn")&&a.preventDefault()}),e.hover(function(a){$(this).toggleClass("add-btn_hover")}),d.delegate(".del","click",function(a){if($(this).hasClass("sprite-del_ative"))return;$("#tip").tip("close"),$(".sprite-del_ative",d).removeClass("sprite-del_ative");var b=$("#tip").tip("widget"),c=$(this),e=$(a.target).parent(".custom_item");c.addClass("sprite-del_ative"),$("#tip").tip({autoOpen:"open",delOb:e,ativeObj:c})}).delegate(".del","hover",function(a){var b=$(this);b.toggleClass("sprite-del_hover")}),d.delegate(".modify","click",function(a){var b=$(a.target),c=b.parent();if($(this).hasClass("sprite-modify_ative"))return;$(".sprite-modify_ative",d).removeClass("sprite-modify_ative");if(h.is(":hidden")){var e=c.position();h.css({left:e.left+parseInt(c.css("margin-left")),top:e.top+parseInt(c.css("margin-top"))}).show()}f.val(c.attr("href"))[0].select(),g.val(b.prev().text()),q=$(".custom_item").index(c),UT.send({type:"click",position:"custom-site",url:c.attr("href"),element:"edit",country:conf.country})}).delegate(".modify","hover",function(a){var b=$(this);b.toggleClass("sprite-modify_hover")}),d.mousedown(function(a){var b="",c=a.target.nodeName.toLowerCase(),d=$(a.target).closest("a,button");m&&(b=m,m=""),d.length&&UT.send({type:"click",position:"custom-site",url:b||d.attr("href")||"",element:c,country:conf.country})})}else $("#custom_bar").hide()}),window.Gl||(window.Gl={}),Gl.history=function(){if(!(this instanceof Gl.history))return new Gl.history;var a=this;a.hotsite=$("#hotsite"),a.history=$("#history"),a.historyBg=$("#historyBg"),a.historyList=a.history.children().eq(0),a.hotsiteTab=$("#hotsiteTab"),a.historyTab=$("#historyTab"),a.container=$("#hotsiteContainer"),a.blocks=$(".hist-block"),a.removeBtn=$(".hist-block_remove"),a.cookie=($.cookie("FLASHID")||$.cookie("BAIDUID")||"").substr(0,32),a.blockTpl='<a href="#{u}" class="hist-block"><span class="hist-block_title">#{t}</span><span class="hist-block_remove"></span></a>',a.blockIcoTpl='<a href="#{u}" class="hist-block hist-block_img"><span class="hist-block_title">#{t}</span><img src="#{ico}"><span class="hist-block_remove"></span></a>',a.lv2Icon='<i class="hist-icon"></i>',a.isScollOver=!0,a.isInit=!1,a.icoList={},a.bindEvent()},Gl.history.prototype={constructor:Gl.history,scroll:function(a){var b=this;if(a===b.hotsite)var c=b.history,d=a.children(),e=c.children().children();else var c=b.hotsite,d=a.children().children(),e=c.children();b.isScollOver&&(b.isScollOver=!1,d.each(function(){var a=$(this);setTimeout(function(){a.addClass("left-out")},Math.random()*400)}),setTimeout(function(){a.hide(),c.fadeIn(500),e.each(function(){var a=$(this);a.addClass("scroll-animate").removeClass("left-out"),setTimeout(function(){a.addClass("right-in")},Math.random()*400)})},1e3),setTimeout(function(){e.removeClass("scroll-animate right-in"),b.isScollOver=!0},2e3))},createEle:function(a){var b=this,c;a.ico?c=$(replaceTpl(b.blockIcoTpl,a)):c=$(replaceTpl(b.blockTpl,a)),a.color&&c.css({"background-color":a.color}),a.big&&c.addClass("hist-block_big"),(a.u.substr(0,1)==="/"||a.u.match(/https?:\/\/([^\/]+)\/?/i)[1]===window.location.host)&&c.prepend(b.lv2Icon),b.historyList.children().length<=10&&b.historyList.append(c)},get:function(){var a=this;$.ajax({url:"/historyurl/get",data:{id:a.cookie},success:function(b){a.icoList=$.parseJSON(b).top;var b=$.parseJSON(b).data;b.length>0&&a.historyBg.hide();for(var c=0;c<b.length;c++)a.createEle(b[c]);a.history.children().children().each(function(){var a=$(this);a.addClass("scroll-animate").removeClass("left-out"),setTimeout(function(){a.addClass("right-in")},Math.random()*1400)}),setTimeout(function(){a.history.children().children().removeClass("scroll-animate right-in")},2e3)},type:"POST"})},add:function(a){var b=this,c=a.attr("href"),a=a.clone(),d="",e,f,g=!0;a.children("i").remove(),d=$.trim(a.text()),c.substr(0,1)==="/"&&(c=window.location.protocol+"//"+window.location.host+c),b.isInit&&(b.historyBg.hide(),b.historyList.children("a").each(function(){$(this).attr("href")===c&&(g=!1)}),g&&(b.icoList[d]&&(e=b.icoList[d].color,f=b.icoList[d].ico),b.createEle({u:c,t:d,color:e,ico:f}))),$.ajax({url:"/historyurl/add",data:{name:d,url:c,id:b.cookie},type:"POST"})},remove:function(a){var b=this,c=a.attr("href"),d=$.trim($(".hist-block_title",a).text());c.substr(0,1)==="/"&&(c=window.location.protocol+"//"+window.location.host+c),a.remove(),$.ajax({url:"/historyurl/del",data:{url:c,id:b.cookie,name:d},type:"POST"})},bindEvent:function(){var a=this;a.hotsiteTab.on("click",function(b){b.preventDefault(),!$(this).hasClass("cur")&&a.isScollOver&&(a.historyTab.removeClass("cur"),$(this).addClass("cur"),a.scroll(a.history))}),a.historyTab.on("click",function(b){b.preventDefault(),UT.send({type:"click",position:"history",sort:"tab"}),!a.isInit&&a.init(),!$(this).hasClass("cur")&&a.isScollOver&&(a.hotsiteTab.removeClass("cur"),$(this).addClass("cur"),a.scroll(a.hotsite))}),$("a").live("click",function(b){$(this).closest(".favsite-count").length>0&&!$(b.target).hasClass("hist-block_remove")&&a.add($(this))}),a.blocks.live("click",function(b){$(b.target).hasClass("hist-block_remove")&&(b.preventDefault(),a.remove($(this))),UT.send({type:"click",position:"history",sort:"block"})}),a.blocks.live("mouseenter",function(){$(".hist-block_remove",$(this)).show()}),a.blocks.live("mouseleave",function(){$(".hist-block_remove",$(this)).hide()}),a.removeBtn.live("mouseenter",function(){$(this).addClass("hist-block_remove_hover")}),a.removeBtn.live("mouseleave",function(){$(this).removeClass("hist-block_remove_hover")})},init:function(){var a=this;a.isInit=!0,a.get()}},$(function(){var a=$(".sortsite dt");a.on("mouseenter",function(){$(this).addClass("hover")}),a.on("mouseleave",function(){$(this).removeClass("hover"),$(this).removeClass("click")}),a.on("mousedown",function(){$(this).addClass("click")}),a.on("mouseup",function(){$(this).removeClass("click")})});var nsMod=window.nsMod||{};nsMod.sideNews=nsMod.sideNews||{},function(a,b){a.UserLoopArray=function(){this.first=0,this.last=0,this.size=0,this.numberList=[],this.count=7},a.UserLoopArray.prototype={init:function(a,b,c){for(var d=0;d<a;d++)this.numberList[d]=d;this.count=a,this.size=b,this.first=c,this.last=this.first+this.size-1,this.last>this.count-1&&(this.last=(this.last+1)%this.count-1,this.last<0&&(this.last=this.count-1))},getFirst:function(){return this.first},getLast:function(){return this.last},getList:function(){var a=this.size,b=new Array(a),c=0,d=this.first;while(a)b[c]=this.numberList[d],d==this.count-1?d=0:d++,c++,a--;return b},getDiff:function(a,b){var c=b-a,d=a-b;return c<0&&(c+=this.count),d<0&&(d+=this.count),{forwardStep:c,backwardStep:d}},getPrev:function(){var a=this.first;return a--,a<0&&(a=this.count-1),a},getNext:function(){var a=this.last;return a++,a==this.count&&(a=0),a},stepPrev:function(a){a==null&&(a=1);while(a)this.first--,this.last--,this.first<0&&(this.first=this.count-1),this.last<0&&(this.last=this.count-1),a--;return{first:this.first,last:this.last,list:this.getList()}},stepNext:function(a){a==null&&(a=1);while(a)this.first++,this.last++,this.first==this.count&&(this.first=0),this.last==this.count&&(this.last=0),a--;return{first:this.first,last:this.last,list:this.getList()}},debug:function(){return[" first:",this.first," last:",this.last," prev:",this.getPrev()," next:",this.getNext()," arr:","[",this.getList().join("|"),"]"].join("")}},a.NavUI=function(){this.indexObj=new a.UserLoopArray,this.ITEM_SIZE=100,this.Nav_SIZE=3,this.CURRENT_OFFSET=1,this.dataList=[],this.$itemList=[],this.containerId="",this.$listContainer=null,this.$container=null,this.needLoop=!1,this._scrollDuration=300,this._isScrolling=!1,this._autoScrollDirection="forward",this.idKey="id",this._timerAutoScroll=null,this._autoDuration=1e3,this._autoScroll=!1,this.dir="ltr",this.direction="h",this.DIR_KEY_CONFIG={"h-ltr":{BACKWARD:"right",FORWARD:"left",SIZE:"width"},"h-rtl":{BACKWARD:"left",FORWARD:"right",SIZE:"width"},v:{BACKWARD:"top",FORWARD:"bottom",SIZE:"height"}},this.DIR_KEY=null},a.NavUI.prototype={init:function(a){var c=this,d=a.data;c.dataList=d,c.$itemList=new Array(d.length),c.containerId=a.containerId,c.$container=b(c.containerId),c.idKey=a.idKey||"id",c.ITEM_SIZE=a.itemSize,a.offset!=null&&(c.CURRENT_OFFSET=a.offset),c._autoDuration=a.autoDuration||5e3,c._scrollDuration=a.scrollDuration||300,c._autoScrollDirection=a.autoScrollDirection||"forward",c.dir=a.dir||"ltr",c.direction="h",c.DIR_KEY=c.DIR_KEY_CONFIG[c.direction+"-"+c.dir];var e=0,f=a.defaultId;for(var g=0,h=d.length;g<h;g++)d[g][c.idKey]==f&&(e=g);var i=a.navSize;i==null?i=this.Nav_SIZE:this.Nav_SIZE=i;var j=d.length,k=i;i<d.length?c.needLoop=!0:(j=d.length,k=j),c.indexObj.init(j,k,e),c.indexObj.stepPrev(c.CURRENT_OFFSET),this._render(),this._updateFocus(!0),this.bindEvent(),c._autoScroll=a.autoScroll||!1,c._autoScroll&&c._startAutoScroll()},_render:function(){var a=this,c=['<div class="ui-nav">','<div class="ctrl">','<p class="prev"><span class="arrow-prev">Prev</span></p>','<p class="next"><span class="arrow-next">Next</span></p>',"</div>",'<div class="wrap">','<ul class="nav-item-list">',"</ul>","</div>","</div>"];a.$container.html(c.join("")),a.$container.find(".wrap").css({width:a.ITEM_SIZE*a.Nav_SIZE});var d=a.indexObj.getList(),e=a.dataList,f=[];for(var g=0,h=d.length;g<h;g++){var i=d[g],j=b('<li class="nav-item" data-id="'+e[i][a.idKey]+'" data-index="'+i+'">'+e[i].content+"</li>");a.$itemList[i]=j,f.push(j)}a.$listContainer=a.$container.find(".nav-item-list"),b(f).each(function(b,c){a.$listContainer.append(c)})},bindEvent:function(){var a=this,c=b(a.containerId);b(c).on("click",".prev",function(b){a.switchPrev()}).on("click",".next",function(b){a.switchNext()}).on("click",".nav-item",function(c){var d=b(this).attr("data-index"),e=b(this).attr("data-type");a.switchTo(d)}),b(a).on("e_after_scroll",function(b){a._updateFocus(),a._isScrolling=!1}),b(c).on({mouseenter:function(c){b(this).addClass("ui-nav-hover"),a._autoScroll&&a._stopAutoScroll()},mouseleave:function(c){b(this).removeClass("ui-nav-hover"),a._autoScroll&&a._startAutoScroll()}},".ui-nav"),b(c).on({mouseenter:function(a){b(this).addClass("prev-hover")},mouseleave:function(a){b(this).removeClass("prev-hover")},mousedown:function(){b(this).addClass("prev-active")},mouseup:function(){b(this).removeClass("prev-active")}},".prev"),b(c).on({mouseenter:function(a){b(this).addClass("next-hover")},mouseleave:function(a){b(this).removeClass("next-hover")},mousedown:function(){b(this).addClass("next-active")},mouseup:function(){b(this).removeClass("next-active")}},".next"),b(c).on({mouseenter:function(a){b(this).addClass("nav-item-hover")},mouseleave:function(a){b(this).removeClass("nav-item-hover")},mousedown:function(){b(this).addClass("nav-item-active")},mouseup:function(){b(this).removeClass("nav-item-active")}},".nav-item")},switchNext:function(){var a=this;if(a._isScrolling)return;a._isScrolling=!0,a.indexObj.stepNext(),a.needLoop?a._scrollNext():(a._updateFocus(),a._isScrolling=!1)},switchPrev:function(){var a=this;if(a._isScrolling)return;a._isScrolling=!0,a.indexObj.stepPrev(),a.needLoop?a._scrollPrev():(a._updateFocus(),a._isScrolling=!1)},movePrev:function(){},moveNext:function(){},_scrollNext:function(a){a==null&&(a=1);var c=this,d=c.indexObj.getList().slice(-a),e=[];for(var f=0;f<a;f++){var g=d[f],h=c.$itemList[g];if(!h){var i=c.dataList[g];h=b('<li class="nav-item" data-id="'+i[c.idKey]+'" data-index="'+g+'">'+i.content+"</li>"),c.$itemList[g]=h,h.css({width:c.ITEM_SIZE+"px"})}e.push(h)}var j=c.DIR_KEY.FORWARD,k={};k[j]=0,k.width=c.ITEM_SIZE*(c.Nav_SIZE+a);var l={};l[j]=-c.ITEM_SIZE*a;var m={};m[j]=0,m.width=c.ITEM_SIZE*c.Nav_SIZE,b(e).each(function(a,b){c.$listContainer.append(b)}),c.$listContainer.css(k).animate(l,c._scrollDuration,function(){c.$listContainer.css(m);var d=c.$listContainer.find("[data-index]").slice(0,a);d.remove(),b(c).trigger("e_after_scroll")})},_scrollPrev:function(a){a==null&&(a=1);var c=this,d=c.indexObj.getList().slice(0,a),e=[];for(var f=0;f<a;f++){var g=d[f],h=c.$itemList[g];if(!h){var i=c.dataList[g];h=b('<li class="nav-item" data-id="'+i[c.idKey]+'" data-index="'+g+'">'+i.content+"</li>"),c.$itemList[g]=h,h.css({width:c.ITEM_SIZE+"px"})}e.unshift(h)}var j=c.DIR_KEY.FORWARD,k={};k[j]=-c.ITEM_SIZE*a,k.width=c.ITEM_SIZE*(c.Nav_SIZE+a);var l={};l[j]=0;var m={};m[j]=0,m.width=c.ITEM_SIZE*c.Nav_SIZE,b(e).each(function(a,b){c.$listContainer.prepend(b)}),c.$listContainer.css(k).animate(l,c._scrollDuration,function(){c.$listContainer.css(m);var d=c.$listContainer.find("[data-index]").slice(-a);d.remove(),b(c).trigger("e_after_scroll")})},switchTo:function(a){var b=this,c=b.indexObj.getList(),d=c[this.CURRENT_OFFSET];if(d==a)return;if(b._isScrolling)return;b._isScrolling=!0;if(b.needLoop){var e=this.indexObj.getDiff(d,a);e.backwardStep<e.forwardStep?(b.indexObj.stepPrev(e.backwardStep),b._scrollPrev(e.backwardStep)):e.backwardStep>=e.forwardStep&&(b.indexObj.stepNext(e.forwardStep),b._scrollNext(e.forwardStep))}else d<a?b.indexObj.stepNext(a-d):b.indexObj.stepPrev(d-a),b._updateFocus(),b._isScrolling=!1},_updateFocus:function(a){var c=this,d=this.indexObj.getList(),e=d[this.CURRENT_OFFSET];c.$listContainer.find("[data-index]").removeClass("nav-item-current").filter("[data-index="+e+"]").addClass("nav-item-current"),b(this).trigger("e_change",{isInit:a,index:e,itemObj:this.dataList[e]})},_startAutoScroll:function(){var a=this;a._timerAutoScroll=setInterval(function(){a._autoScrollDirection=="forward"?a.switchNext():a.switchPrev()},a._autoDuration)},_stopAutoScroll:function(){var a=this;clearInterval(a._timerAutoScroll)}},a.NewsViewUI=function(a){var c=this;b.extend(c,a),c._scrollTop=0,c._isFetching=!1,c._cacheImageList={},c._hasScrollToBottom=!1},a.NewsViewUI.prototype={renderNormalNews:function(){var c=this,d=c.data,e=[],f=d.length,g;for(var h=0;h<f;h++)g=d[h],a.newsConfig.showDesc?e.push('<li class="news-item news-item_txt news-item_dbline"><a href="'+g.url+'" data-type="'+g.type+'" data-country="'+g.country+'"><span class="title">'+g.title+'</span><span class="desc">'+g.desc+"</span></a></li>"):e.push('<li class="news-item news-item_txt"><a href="'+g.url+'" data-type="'+g.type+'" data-country="'+g.country+'"><span class="title">'+g.title+"</span></a></li>");if(a.newsConfig.currentType==a.newsConfig.defaultType){var i=b('<ul class="scroll-list">'+e.join("")+"</ul>");b(".scroll #content-type-"+c.type).append(i)}else{var i=b('<div id="content-type-'+c.type+'" class="news-content-item"><ul class="scroll-list">'+e.join("")+"</ul></div>");b(".scroll .scroll-pane").append(i)}b(".scroll #content-type-"+c.type).append('<li class="news-item news-item_tip">'+a.newsConfig.labelSeeLater+"</li>")},renderCoverNews:function(){var c=this,d=0,e=c.data,f=5,g=7,h=[],i=0,j=null;window.imgList=[];while(d<f)j=e[i],j.img!=""&&(h.push({content:'<p><a href="'+j.url+'" data-type="'+j.type+'" data-country="'+j.country+'" class="news-pic-link"><img src="http://'+j.img+'" alt="pic" /><span class="title">'+j.title+"</span></a></p>",id:j.type}),d++),i++;var k=new a.NavUI;b.extend(c.NavUIConfig,{data:h}),k.init(c.NavUIConfig);var l=[],m=e.length;d=1;while(i<m)j=e[i],i++,d%g==0?j.img!=""&&(l.push('<li class="news-item news-item_img"><p><a href="'+j.url+'" data-type="'+j.type+'" data-country="'+j.country+'" class="news-pic-link"><img src="http://'+j.img+'" alt="pic" /><span class="title">'+j.title+"</span></a></p></li>"),d++):(a.newsConfig.showDesc?l.push('<li class="news-item news-item_txt news-item_dbline"><a href="'+j.url+'" data-type="'+j.type+'" data-country="'+j.country+'"><span class="title">'+j.title+'</span><span class="desc">'+j.desc+"</span></a></li>"):l.push('<li class="news-item news-item_txt"><a href="'+j.url+'" data-type="'+j.type+'" data-country="'+j.country+'"><span class="title">'+j.title+"</span></a></li>"),d++);var n=b('<ul class="scroll-list">'+l.join("")+"</ul>");b(".scroll #content-type-"+c.type).append(n),b(".scroll #content-type-"+c.type).append('<li class="news-item news-item_tip">'+a.newsConfig.labelSeeLater+"</li>")},fetch:function(){var c=this;if(c.count==c.total)return;b.ajax({url:a.newsConfig.requestUrlPrefix+"?app=news&act=articles&model=normal&country="+a.newsConfig.country+"&type="+this.type+"&num="+this.pageSize,dataType:"jsonp",jsonp:"jsonp",cache:!0,error:function(a,c,d){b("#sideNews").hide()},success:function(a){a.message&&a.message.errNum==0?(c._appendData(a.content.data.contents),c._isFetching=!1):c._isFetching=!1}})},_appendData:function(a){var c=this;c.data=a[this.type],c.total=c.data.length,c.count=c.total,b(c).trigger("e_append_data")}},a.ScrollPanelUI=function(a){this.itemSize=50;var c=b("#sideNews");this.$container=c.find(".scroll"),this.$outerWrapper=c.find(".scroll-container"),this.$innerWrapper=c.find(".scroll-pane"),this.$panel=c.find(".scroll-list"),this.$bottomMask=c.find(".bottom-mask"),this.$topArrow=c.find("#topArrow"),this.$bottomArrow=c.find("#bottomArrow"),this.scrollLock=!1,this.config=conf.sideNews,this.newsModlines=6,this.newsRequest=parseInt(this.config.newsRequest),this.newsTotal=parseInt(this.config.newsTotal),this.hasEverScrolled=!1,this.bindEvent()},a.ScrollPanelUI.prototype={init:function(){},bindEvent:function(){var b=this;b.$container.hover(function(){b.$outerWrapper.addClass("scroll_visible"),b.$outerWrapper.next().hide()},function(){b.$outerWrapper.removeClass("scroll_visible"),b.$innerWrapper.scrollTop()==0&&b.$outerWrapper.next().show()}),b.$container.on("mousewheel",function(b){b.stopPropagation(),a.log("scroll","mousewheel",2e3)}),b.$innerWrapper.scroll(function(a){b._updateScroller(a)}),b.$innerWrapper.bind("mousewheel",function(a,c,d,e){c=c>0?1:-1;var f=b._updateScroller(c);f&&(a.preventDefault(),a.stopPropagation())}),b.$topArrow.click(function(c){a.log("click","scrollArrow"),b.move(1,b.newsModlines),c.preventDefault()}),b.$bottomArrow.click(function(c){a.log("click","scrollArrow"),b.move(-1,b.newsModlines),c.preventDefault()}),b.clearScrollLock=function(){b.scrollLock=0},b._updateScroller=function(c){var d=!1;return a.log("scroll","newsScroll",-1),b.$innerWrapper.scrollTop()==0?(b.$topArrow.addClass("disabled"),c>0&&(d=!0)):b.$topArrow.removeClass("disabled"),b.$innerWrapper.height()+b.$innerWrapper.scrollTop()==b.$panel.height()?(b.$bottomArrow.addClass("disabled"),b.$bottomMask.css("visibility","hidden"),c<0&&(d=!0),a.log("scroll","newsScrollToBottom",2e3)):(b.$bottomArrow.removeClass("disabled"),b.$bottomMask.css("visibility","visible")),d},b.move=function(a,b){var c=this;if(!c.scrollLock){c.scrollLock=1;var d=a*c.itemSize*b;c.$innerWrapper.scrollTop(c.$innerWrapper.scrollTop()-d),setTimeout(function(){c.scrollLock=0},300)}}}};var c={};a.log=function(a,d,e,f){e==null&&(e=100);var g={level:1,position:"sideNews",country:conf.country};f==null?f=g:b.extend(f,g),f.type=a,f.element=d,c[d]||(UT.send(f),c[d]=!0,e>0&&setTimeout(function(){c[d]=!1},e))}}(nsMod.sideNews,$),$(document).ready(function(){$("#sideCharts").length&&(window.sideCharts=function(){var a=$(".charts_menu"),b=a.find("a"),c=b.length,d=b.eq(0),e=$(".charts_content"),f=$(".mod-charts .chartslist"),g=$(".mod-charts .top-arrow"),h=$(".mod-charts .bottom-arrow"),i=conf.charts,j=function(a){var c=a.attr("menutype"),d=a.attr("subtype"),i=a.attr("rqnum"),j=b.index(a),l=e.eq(j),m=f.eq(j);b.removeClass("cur"),a.addClass("cur"),e.hide(),l.show(),l.find("li").length||$.ajax({url:conf.apiUrlPrefix+"?app="+c+"&act=contents&country="+conf.country+(d?"&type="+d:"")+"&num="+i,dataType:"jsonp",jsonp:"jsonp",cache:!0,error:function(a,b,c){l.find(".charts_error").show()},success:function(a){if(a.message.errNum!=0)l.find(".charts_error").show();else{l.find(".charts_error").hide();var b=parseInt(a.message.showType),a=a.content.data,e=a.length,f="",i=m.find("ul"),k="side"+c+(d?"["+d+"]":"");for(var n=0;n<e;n++)if(c=="music"){var o,p;$("html").attr("dir")=="rtl"&&(/^[\w\s()]*$/g.test(a[n].music)&&(o=1),/^[\w\s()]*$/g.test(a[n].artist)&&(p=1)),b==1?f+="<li class='charts-item'><i class='charts-order"+(n+1>3?" charts-order_grey":"")+"'>"+(n+1)+"</i><a class='charts-pic' href='"+(a[n].album_link?a[n].album_link:a[n].music_link)+"' data-sort='"+k+"'><img original-src='"+a[n].artist_pic+"' src='/static/web/common/img/news_default.png'></a><a class='charts-song' href='"+a[n].music_link+"' title='"+a[n].music+"' data-sort='"+k+"'"+(o?"dir='ltr'":"")+">"+a[n].music+"</a><br/><a class='charts-singer' href='"+(a[n].artist_link?a[n].artist_link:a[n].music_link)+"' data-sort='"+k+"'"+(p?"dir='ltr'":"")+">"+a[n].artist+"</a></li>":f+="<li class='charts-item'><i class='charts-order"+(n+1>3?" charts-order_grey":"")+"'>"+(n+1)+"</i><a class='charts-song charts-song_l' href='"+a[n].music_link+"' title='"+a[n].music+"' data-sort='"+k+"'"+(o?"dir='ltr'":"")+">"+a[n].music+"</a><br/><a class='charts-singer charts-singer_l' href='"+(a[n].artist_link?a[n].artist_link:a[n].music_link)+"' data-sort='"+k+"'"+(p?"dir='ltr'":"")+">"+a[n].artist+"</a></li>"}else{var q;$("html").attr("dir")=="rtl"&&/^[\w\s()]*$/g.test(a[n].title)&&(q=1),n%2?f+="<li class='charts-imgitem s-mhn'>":f+="<li class='charts-imgitem'>",f+="<a href='"+a[n].link+"' data-sort='"+k+"' title='"+a[n].title+"'><img original-src='"+a[n].img+"' src='/static/web/common/img/news_default.png'><span class='charts-mask'><i class='ellipsis'>...</i><i class='icon'></i></span><span class='charts-name'"+(q?"dir='ltr'":"")+">"+a[n].title+"</span></a></li>"}i.append(f),i.find("img:lt(6)").each(function(){var a=$(this);a.attr("src",a.attr("original-src"))}),i.height()>m.height()&&(m.css("overflow-y","auto"),g.eq(j).show(),h.eq(j).show())}}}),k(m)},k=function(a){a.scrollTop(0),g.addClass("disabled"),h.removeClass("disabled")};if(i.isLoop){var l=0,m=setInterval(function(){j(b.eq(l)),l=++l>=c?0:l},i.loopSpeed);e.hover(function(){clearInterval(m)},function(){m=setInterval(function(){j(b.eq(l)),l=++l>=c?0:l},i.loopSpeed)})}else j(d);h.click(function(){var a=$(".mod-charts .chartslist:visible");a.scrollTop(a.scrollTop()+30)}),g.click(function(){var a=$(".mod-charts .chartslist:visible");a.scrollTop(a.scrollTop()-30)}),f.scroll(function(){var a=$(".mod-charts .chartslist:visible"),b=a.find("img");a.scrollTop()==0?g.addClass("disabled"):g.removeClass("disabled"),a.scrollTop()+a.height()>=a.children().height()?h.addClass("disabled"):h.removeClass("disabled"),b.each(function(){var b=$(this);b.position().top-30<=a.outerHeight()&&b.attr("src",b.attr("original-src"))})}),b.click(function(a){j($(this)),a.preventDefault()}),$(".charts_error").click(function(a){j(b.eq(e.index($(a.target).parent()))),a.preventDefault()}),$(".charts-mode2 .charts-imgitem a").live("mouseenter",function(){var a=$(this),b=a.children(".charts-name"),c=a.find(".ellipsis"),d=a.height(),e=b.height();e>d&&c.show()}).live("mouseleave",function(){var a=$(this),b=a.find(".ellipsis");b.is(":visible")&&b.hide()})},window.sideCharts())}),function(){$(".mod-ad_switch ul").each(function(a,b){var c=0,d,e=$("li",b).length;conf.adSwitch&&e!==1&&(d=$(b),d.css("width",240*(e+1)+"px"),d.append($("li",b).eq(0).clone()),setInterval(function(){c!==e?(d.animate({left:-240*c},500),c=c+1):(d.animate({left:-240*c},500,function(){d.css("left","0px")}),c=1)},conf.adSwitch.time))})}(),$.fn.speedTestInit=function(a,b){b=b||$(this),a=$.extend({info:b.find(".speed-test_info"),btnStart:b.find(".speed-test_start"),btnHide:b.find(".speed-test_hide"),btnShow:b.find(".speed-test_show"),barProgress:b.find(".speed-test_progress"),needle:b.find(".speed-test_needle"),infoType:b.find(".speed-test_type"),resultChart:b.find(".speed-test_chart"),resultDown:b.find(".speed-test_result_down"),resultUp:b.find(".speed-test_result_up"),resultBandWidth:b.find(".speed-test_result_bandwidth"),realTimeBandWidth:b.find(".speed-test_bandwidth"),jsUrl:"js/speedtest.js?20130105",phpUrl:"spd.php",getIpUrl:"http://jsonip.com",getSize:5e5,postSize:5e5,dialQueue:[0,1,5,10,20,30,50,75,100],angleMax:235,getSizeFallback:200,postSizeFallback:200,getTimes:3,postTimes:0,fixResult:1,remainder:1,testTimeout:6e4,supportCanvas:!!document.createElement("canvas").getContext,textDefault:"Speedtest",textStart:"Test again",textLoading:"Loading...",textTesting:"Testing...",textError:"Network error, please try again later."},a),a.btnStart.html(a.textDefault),a.info.html(a.textError),$.ajax({url:a.getIpUrl,dataType:"jsonp",success:function(a){$(".speed-test_ip span").html(a.ip)}}),!a.supportCanvas&&function(b,c,d){b.namespaces&&!b.namespaces.v&&b.namespaces.add("v","urn:schemas-microsoft-com:vml"),d=b.createElement("style"),d.setAttribute("type","text/css"),d.styleSheet.cssText="v\\:* { Behavior: url(#default#VML) } v\\:shape{position:absolute;} v\\:rect,v\\:rect,v\\:imagedata { display:inline-block }",b.getElementsByTagName("head")[0].appendChild(d);var f=b.createElement("v:rect"),g=f.appendChild(b.createElement("v:imagedata"));f.style.cssText="position:absolute;width:166px;height:20px;top:"+c.css("top")+";"+"left:"+c.css("left")+";rotation:6;",f.stroked=f.filled=!1,g.src=c.css("background-image").replace('url("',"").replace('")',""),c.hide(),c[0].parentNode.insertBefore(f,c[0]),a.needle=$(f)}(document,a.needle),a.btnHide.click(function(a){b.removeClass("speed-test--result").addClass("speed-test--hide")}),a.btnShow.click(function(c){a.resultBandWidth.html()!=="N/A"&&b.addClass("speed-test--result"),b.removeClass("speed-test--hide")}),a.btnStart.click(function(c){var d=$(this);return d.data("loadstate")?$.speedTest&&$.speedTest.start(b,a):(d.html(a.textLoading).data("loadstate",1),$.ajax({url:a.jsUrl,dataType:"script",cache:!0,success:function(){d.html(a.textTesting).data("loadstate",2),b.removeClass("speed-test--cover"),$.speedTest&&$.speedTest.start(b,a)},error:function(){d.data("loadstate",0)}})),!1}),b.on("mousedown",function(b){UT&&$(b.target)[0]!==a.btnStart[0]&&UT.send({type:"click",sort:"sideSpd",value:"spdMod"})})},function(){var a=$(".mod-joke"),b=a.find(".joke_title"),c=a.find(".joke_content"),d=a.find(".joke_refresh"),e=conf.apiUrlPrefix;d.click(function(a){$.getJSON(e+"?app=joke&act=contents&num=1&country="+conf.country+"&jsonp=?",function(a){var e=a.content.data,f=a.content.tip,g=a.content.title;b.text(g),d.attr("title",f),$.each(e,function(){var a=this.url,b=this.name;c.attr({href:a,title:b}),c.text(b)})}),a.preventDefault()}),d.trigger("click")}(),!function(a,b,c){a.FBClient=a.FBClient||{},a.FBClient.init=function(){var a=this,b=a.conf,c=$(b.uiMod);a.ui={uiMod:c,side:c.find(b.uiSide),btnLogin:c.find(b.uiBtnLogin),btnLogout:c.find(b.uiBtnLogout),btnClose:c.find(b.uiBtnClose),btnRefresh:c.find(b.uiBtnRefresh),wrap:c.find(b.uiWrap),list:c.find(b.uiList),usrinfo:c.find(b.uiUsrinfo),avatar:c.find(b.uiAvatar),textareaSubmit:c.find(b.uiTextareaSubmit),btnSubmit:c.find(b.uiBtnSubmit),body:c.find(b.uiBody),tip:c.find(b.uiTip),sideHome:c.find(b.uiSideHome),sideFriend:c.find(b.uiSideFriend),sideNotifications:c.find(b.uiSideNotifications),sideMessages:c.find(b.uiSideMessages),bodyLoader:c.find(b.uiBodyLoader),panelHome:c.find(".fb-mod_c"),panelFriend:$('<div class="fb-mod_c fb-mod_c_friend" style="display:none"><div class="fb-mod_c_loading"><div class="fb-mod_loader"></div></div></div>'),panelNotifications:$('<div class="fb-mod_c fb-mod_c_notifications" style="display:none"><div class="fb-mod_c_loading"><div class="fb-mod_loader"></div></div></div>'),panelMessages:$('<div class="fb-mod_c fb-mod_c_messages" style="display:none"><div class="fb-mod_c_loading"><div class="fb-mod_loader"></div></div></div>'),bubble:$('<div class="fb-mod_bubble">'+(b.tplBubble||"NEW")+"</div>"),placeholder:function(a,c){return $(b.tplPlaceholder.replaceTpl({first:a,last:c}))}},a.ui.liveLoader=a.ui.bodyLoader.clone(!0).css({width:"370px"}).insertBefore(a.ui.list).hide(),$("body").append('<div id="fb-root" class=" fb_reset"></div>'),a.ui.wrap.append(a.ui.panelFriend).append(a.ui.panelNotifications).append(a.ui.panelMessages),$("body").append(a.ui.fakeBox=$(a.ui.textareaSubmit[0].cloneNode(!1)).css({position:"absolute",top:"0",left:"0",right:"-10000px",visibility:"hidden","padding-top":"0","padding-bottom":"0",height:"18",width:a.ui.textareaSubmit.width()})),a.supportAnimate=function(a,b){return"t"+b in a||"webkitT"+b in a||"MozT"+b in a||"OT"+b in a}((new Image).style,"ransition"),a.status={login:0,fold:0,sdkLoaded:0,scrollLoaded:0,insertLoaded:0,fixed:0,eventBinded:0,bubble:0},!$.cookie("fb_bubble")&&(a.status.bubble=1,a.ui.uiMod.append(a.ui.bubble)),a.cache={prePost:null,nextPost:null,refreshPost:null,noOldPost:0,myPost:0,stayTip:"",userID:null,userName:"",panel:a.ui.panelHome,curSideType:"",panelRendered:0},a.ui.btnClose.mousedown(function(b){UT&&UT.send({type:"click",position:"fb",sort:a.status.fold===0?"pull":"fold"}),a.foldHandle.call(a,b)}),$(".fb-mod_side_logo").mousedown(function(b){UT&&UT.send({type:"click",position:"fb",sort:a.status.fold===0?"pull":"fold"}),a.foldHandle.call(a,b)}),$(".fb-mod_side_home").mousedown(function(b){UT&&a.status.fold===0&&UT.send({type:"click",position:"fb",sort:"pull"}),UT&&UT.send({type:"click",position:"fb",sort:"icon_home"}),a.status.fold===0&&a.foldHandle.call(a,b),a.clickHandle($(this),"fb-mod_side_home_cur",a.ui.panelHome)}),$(".fb-mod_side_friend").mousedown(function(b){UT&&UT.send({type:"click",position:"fb",sort:"icon_friend"}),a.status.fold===0&&a.foldHandle.call(a,b),a.clickHandle($(this),"fb-mod_side_friend_cur",a.ui.panelFriend)}),$(".fb-mod_side_messages").mousedown(function(b){UT&&UT.send({type:"click",position:"fb",sort:"icon_messages"}),a.status.fold===0&&a.foldHandle.call(a,b),a.clickHandle($(this),"fb-mod_side_messages_cur",a.ui.panelMessages)}),$(".fb-mod_side_notifications").mousedown(function(b){UT&&UT.send({type:"click",position:"fb",sort:"icon_notifications"}),a.status.fold===0&&a.foldHandle.call(a,b),a.clickHandle($(this),"fb-mod_side_notifications_cur",a.ui.panelNotifications)}),a.ui.btnRefresh.mousedown(function(a){UT&&UT.send({type:"click",position:"fb",sort:"refresh"})}),$(".fb-mod_side_friend").click(function(a){a.preventDefault()}),$(".fb-mod_side_messages").click(function(a){a.preventDefault()}),$(".fb-mod_side_notifications").click(function(a){a.preventDefault()}),a.ui.textareaSubmit.attr("placeholder",b.tplSuggestText),a.status.sdkLoaded=1,$.ajax({url:a.conf.modPath,dataType:"script",cache:!0,success:function(){},error:function(){}})};if(window.ActiveXObject&&!window.XMLHttpRequest){var d=b.body;d&&(d.style.backgroundAttachment="fixed",d.currentStyle.backgroundImage=="none"&&(d.style.backgroundImage=b.domain.indexOf("https:")==0?"url(https:///)":"url(about:blank)"))}a.FBClient.clickHandle=function(a,b,c){var d=this,e=d.status.fold,f=d.ui.sideHome,g=d.cache;g.curSide&&g.curSide.removeClass(g.curSideType),a&&a.addClass(b),g.curSide=a,g.curSideType=b,g.panel&&g.panel.hide(),c&&c.show(),g.panel=c},a.FBClient.foldHandle=function(b){var c=this,d=c.status.fold,e=c.status.sdkLoaded;if(d===1)return;c.status.fold=1,c.clickHandle(d?null:c.ui.sideHome,d?"":"fb-mod_side_home_cur",c.ui.panelHome),c.status.bubble&&($.cookie("fb_bubble",1),c.status.bubble=0,c.ui.bubble.hide()),d?c.ui.uiMod.removeClass("fb-mod--fixed").addClass("fb-mod--fold"):c.ui.uiMod.removeClass("fb-mod--fold"),setTimeout(function(){(c.status.fold=d?0:2)&&c.status.fixed&&c.ui.uiMod.addClass("fb-mod--fixed");if(!c.status.eventBinded)if(e===2)c.bindEvent.call(c),c.status.eventBinded=2;else var b=setInterval(function(){c.status.sdkLoaded===2&&(c.bindEvent.call(c),c.status.eventBinded=2,clearInterval(b))},1e3);if(d||e)return;!function(b){$.browser.mozilla?b.addEventListener("DOMMouseScroll",function(a){b.scrollTop+=a.detail>0?30:-30,a.preventDefault()},!1):b.onmousewheel=function(c){c=c||a.event,b.scrollTop+=c.wheelDelta>0?-30:30,c.returnValue=!1}}(c.ui.body[0])},c.supportAnimate?300:0)}}(window,document),$(document).ready(function(){window.side2dCode={data:conf.side2dCode,containterTpl:"<div class='side2dcode"+($("html").attr("dir")=="rtl"?" side2dcode_rtl":" side2dcode_ltr")+"'><a href='#' class='pointer' hidefocus='true'></a><p class='code2d-title'>#{title}</p><img class='code2d-img' src='#{img}'/></div>",init:function(){this.html(this.data),this.bindEvents()},html:function(a){var b=a.title,c=a.img;$(document.body).append(this.containterTpl.replace(/(#{title}|#{img})/g,function(a,d){return{"#{title}":b,"#{img}":c}[d]}))},bindEvents:function(){var a=$(".side2dcode");$(".side2dcode .pointer").click(function(b){a.hasClass("code2d_shrink")?a.removeClass("code2d_shrink"):a.addClass("code2d_shrink"),b.preventDefault()})}},!!conf.side2dCode&&!conf.side2dCode.isHidden&&window.side2dCode.init()});